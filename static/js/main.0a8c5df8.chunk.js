(this["webpackJsonpreact-shop-medium"]=this["webpackJsonpreact-shop-medium"]||[]).push([[0],{15:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(7),r=c.n(i),s=(c(15),c(10)),d=c(3),o=c(2),u=c(8),j=c.n(u),l=c(0);var b=function(e){var t=e.bucket,c=e.handleBacketShow;return Object(l.jsxs)("div",{onClick:c,className:"bucket",children:[Object(l.jsx)("span",{className:"bucket__items",children:t.length}),Object(l.jsx)("i",{className:"fab fa-shopify"})]})};var m=function(e){var t=e.bucket,c=e.handleBacketShow;return Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:j.a.header__container,children:[Object(l.jsx)("div",{className:"logo",children:Object(l.jsx)("h3",{children:"Serching Films"})}),Object(l.jsx)("div",{className:"header__nav",children:Object(l.jsx)(b,{handleBacketShow:c,bucket:t})})]})})})},h=c.p+"static/media/preloader.1b42d9e1.svg";var O=function(){return Object(l.jsx)("div",{className:"preloader",children:Object(l.jsx)("img",{src:h,alt:"Preloader"})})};var f=function(e){var t=e.goods,c=e.addToBucket;return Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("div",{className:"card__photo",children:Object(l.jsx)("img",{src:t.granted[0].images.full_background,alt:t.granted[0].name})}),Object(l.jsxs)("div",{className:"cards__description",children:[Object(l.jsx)("div",{className:"card__name",children:t.granted[0].name}),Object(l.jsx)("div",{className:"card__description",children:t.granted[0].description})]}),Object(l.jsxs)("div",{className:"card__price",children:[Object(l.jsx)("button",{onClick:function(){c({id:t.mainId,name:t.granted[0].name,price:t.price.finalPrice})},className:"card__btn",children:"Buy"}),Object(l.jsxs)("span",{children:[t.price.finalPrice," $"]})]})]})};var _=function(e){var t=e.goods,c=void 0===t?[]:t,n=e.addToBucket,a=e.bucket;return c.length?Object(l.jsx)("div",{className:"main__container",children:c.map((function(e){return Object(l.jsx)(f,{goods:e,addToBucket:n,bucket:a},e.mainId)}))}):Object(l.jsx)("div",{className:"not__found",children:Object(l.jsx)("span",{children:"Don't have goods with such name"})})};var x=function(e){var t=e.addToBucket,c=e.bucket,a=Object(n.useState)([]),i=Object(o.a)(a,2),r=i[0],s=i[1],d=Object(n.useState)(!0),u=Object(o.a)(d,2),j=u[0],b=u[1];return Object(n.useEffect)((function(){fetch("https://fortniteapi.io/v2/shop?lang=en",{headers:{Authorization:"74afc8dd-34d19f8a-a9c7c3af-316ad40b\t"}}).then((function(e){return e.json()})).then((function(e){e&&s(e.shop),b(!1)})).catch((function(e){return console.log(e)}))}),[]),Object(l.jsx)("main",{className:"main",children:j?Object(l.jsx)(O,{}):Object(l.jsx)("div",{className:"main",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)(_,{bucket:c,goods:r,addToBucket:t})})})})},v=c(9),k=c.n(v);var p=function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsx)("div",{className:k.a.footer__block,children:"\xa9 All rights reserved"})})};var N=function(e){var t=e.id,c=e.name,n=e.price,a=e.quantity,i=e.removeFromBucket,r=e.addQuantity,s=e.removeQuantity;return Object(l.jsxs)("li",{className:"bucket__item",children:[Object(l.jsxs)("span",{children:[c," x ",a," = ",n*a]}),Object(l.jsxs)("span",{className:"bucket__item__container",children:[Object(l.jsx)("button",{className:"bucket__item__minus",onClick:function(){return s(t)},children:"-"}),Object(l.jsx)("span",{className:"bucket__item__count",children:a}),Object(l.jsx)("button",{className:"bucket__item__plus",onClick:function(){return r(t)},children:"+"})]}),Object(l.jsx)("span",{className:"bucket__delete",onClick:function(){return i(t)},children:Object(l.jsx)("i",{className:"fas fa-times"})})]})};var g=function(e){var t=e.bucket,c=void 0===t?[]:t,n=e.handleBacketShow,a=e.removeFromBucket,i=e.addQuantity,r=e.removeQuantity,s=c.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(l.jsx)("div",{className:"bucket__container",children:Object(l.jsxs)("ul",{className:"bucket__list",children:[Object(l.jsx)("div",{className:"close__bucket",onClick:n,children:Object(l.jsx)("i",{className:"fas fa-times"})}),Object(l.jsx)("li",{className:"bucket__name",children:"Bucket"}),c.length?c.map((function(e){return Object(l.jsx)(N,Object(d.a)({removeFromBucket:a,removeQuantity:r,addQuantity:i},e),e.id)})):Object(l.jsx)("li",{className:"bucket__item",children:Object(l.jsx)("span",{children:"Bucket is empty"})}),Object(l.jsxs)("li",{className:"bucket__price",children:[Object(l.jsx)("span",{children:"Total price:"}),Object(l.jsxs)("span",{children:[s," $"]})]})]})})};var y=function(e){var t=e.name,c=e.closeAlert;return Object(n.useEffect)((function(){var e=setTimeout(c,3e3);return function(){clearTimeout(e)}}),[t]),Object(l.jsx)("div",{className:"alert__container",children:Object(l.jsxs)("div",{className:"alert",children:[t," add in the bucket"]})})};function B(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!1),r=Object(o.a)(i,2),u=r[0],j=r[1],b=Object(n.useState)(""),h=Object(o.a)(b,2),O=h[0],f=h[1],_=function(){j(!u)};return Object(l.jsxs)(l.Fragment,{children:[O&&Object(l.jsx)(y,{name:O,closeAlert:function(){f("")}}),u&&Object(l.jsx)(g,{bucket:c,handleBacketShow:_,removeFromBucket:function(e){a((function(){var t=c.filter((function(t){return t.id!==e}));a(t)}))},addQuantity:function(e){var t=c.find((function(t){return t.id===e}));t&&(t={id:t.id,name:t.name,price:t.price,quantity:t.quantity+1},a((function(){return c.map((function(e){return e.id===t.id?t:e}))})))},removeQuantity:function(e){var t=c.find((function(t){return t.id===e}));t&&t.quantity>1&&(t={id:t.id,name:t.name,price:t.price,quantity:t.quantity-1},a((function(){return c.map((function(e){return e.id===t.id?t:e}))})))}}),Object(l.jsx)(m,{bucket:c,handleBacketShow:_}),Object(l.jsx)(x,{bucket:c,addToBucket:function(e){var t=c.findIndex((function(t){return t.id===e.id}));if(t<0){var n=Object(d.a)(Object(d.a)({},e),{},{quantity:1});a([].concat(Object(s.a)(c),[n]))}else{var i=c.map((function(e,c){return c===t?Object(d.a)(Object(d.a)({},e),{},{quantity:e.quantity+1}):e}));a(i)}f(e.name)}}),Object(l.jsx)(p,{})]})}r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(B,{})}),document.getElementById("root"))},8:function(e,t,c){e.exports={header__container:"Header_header__container__1qHz9"}},9:function(e,t,c){e.exports={footer__block:"Footer_footer__block__qoW02"}}},[[17,1,2]]]);
//# sourceMappingURL=main.0a8c5df8.chunk.js.map